<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MIN Test Framework: min/src/utils/parser/min_parser.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>min/src/utils/parser/min_parser.c File Reference</h1>This file contains implementation of MIN Parser. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="min__parser_8h-source.html">min_parser.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL <a class="el" href="struct__MinSectionParser.html">MinSectionParser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#daa9d296f8500c15f9c6680983c4c426">mp_next_section_file</a> (<a class="el" href="struct__MinParser.html">MinParser</a> *sp, const TSChar *start_tag, const TSChar *end_tag, int seeked)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL <a class="el" href="struct__MinSectionParser.html">MinSectionParser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#33dd38c7eb0bf074282f0e3acfdf005a">mp_next_section_memory</a> (<a class="el" href="struct__MinParser.html">MinParser</a> *sp, const TSChar *start_tag, const TSChar *end_tag, int seeked)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#20d80bfdd9994ab1bf7607fdbaa499bd">mp_parse_comments_off</a> (TSChar *buff)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#f67746bdf0f109c040ad0eb378f05a78">mp_handle_special_marks</a> (TSChar *buff)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__MinParser.html">MinParser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#68f6a59a3ea26f12b04ca3aed62af8c0">mp_create</a> (const TSChar *path, const TSChar *file, <a class="el" href="min__parser__common_8h.html#5c7a157bfd6bf85286398739049d4b43">TCommentType</a> comments)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__MinParser.html">MinParser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#e0c179c8d1ebefb22661e56a4a3722b6">mp_create_mem</a> (const TSChar *buffer, <a class="el" href="min__parser__common_8h.html#5c7a157bfd6bf85286398739049d4b43">TCommentType</a> comments)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#b06e3425dd3493d8984652f9f74b4026">mp_destroy</a> (<a class="el" href="struct__MinParser.html">MinParser</a> **sp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__MinSectionParser.html">MinSectionParser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#2e3942272ecd6c6fb0a266647360b2b9">mp_section</a> (<a class="el" href="struct__MinParser.html">MinParser</a> *sp, const TSChar *start_tag, const TSChar *end_tag, int seeked)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__MinSectionParser.html">MinSectionParser</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__parser_8c.html#215167e42358024f9133f8b69057736c">mp_next_section</a> (<a class="el" href="struct__MinParser.html">MinParser</a> *sp, const TSChar *start_tag, const TSChar *end_tag, int seeked)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file contains implementation of MIN Parser. 
<p>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="68f6a59a3ea26f12b04ca3aed62af8c0"></a><!-- doxytag: member="min_parser.c::mp_create" ref="68f6a59a3ea26f12b04ca3aed62af8c0" args="(const TSChar *path, const TSChar *file, TCommentType comments)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__MinParser.html">MinParser</a>* mp_create           </td>
          <td>(</td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="min__parser__common_8h.html#5c7a157bfd6bf85286398739049d4b43">TCommentType</a>&nbsp;</td>
          <td class="paramname"> <em>comments</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates MinParser with path and file information. All information will be parsed with comment style set by the third parameter. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>path</em>&nbsp;</td><td>[in] place where the config file is located. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>file</em>&nbsp;</td><td>[in] the name of the config file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comments</em>&nbsp;</td><td>[in] comment style. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>adress of the allocated MinParser structure, INITPTR in case of error.</dd></dl>
Possible Errors:<ul>
<li>ENOENT: invalid path argument.</li><li>EACCES: permission denied.</li><li>for further reference see: man 2 fopen </li></ul>

</div>
</div><p>
<a class="anchor" name="e0c179c8d1ebefb22661e56a4a3722b6"></a><!-- doxytag: member="min_parser.c::mp_create_mem" ref="e0c179c8d1ebefb22661e56a4a3722b6" args="(const TSChar *buffer, TCommentType comments)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__MinParser.html">MinParser</a>* mp_create_mem           </td>
          <td>(</td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="min__parser__common_8h.html#5c7a157bfd6bf85286398739049d4b43">TCommentType</a>&nbsp;</td>
          <td class="paramname"> <em>comments</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates MinParser with buffer information. All information will be parsed with comment style set by the third parameter. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>[in] buffer to be parsed. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>comments</em>&nbsp;</td><td>[in] comment style. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>adress of the allocated MinParser structure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="b06e3425dd3493d8984652f9f74b4026"></a><!-- doxytag: member="min_parser.c::mp_destroy" ref="b06e3425dd3493d8984652f9f74b4026" args="(MinParser **sp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mp_destroy           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__MinParser.html">MinParser</a> **&nbsp;</td>
          <td class="paramname"> <em>sp</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroys MinParser. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>[in] adress of the allocated MinParser entity. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f67746bdf0f109c040ad0eb378f05a78"></a><!-- doxytag: member="min_parser.c::mp_handle_special_marks" ref="f67746bdf0f109c040ad0eb378f05a78" args="(TSChar *buff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void mp_handle_special_marks           </td>
          <td>(</td>
          <td class="paramtype">TSChar *&nbsp;</td>
          <td class="paramname"> <em>buff</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles special marks.( '\/\/', '\/\*' and '*\/\/' ). This is used when ECStyleComments comment type is used.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>[in:out] section to be processed </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="215167e42358024f9133f8b69057736c"></a><!-- doxytag: member="min_parser.c::mp_next_section" ref="215167e42358024f9133f8b69057736c" args="(MinParser *sp, const TSChar *start_tag, const TSChar *end_tag, int seeked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__MinSectionParser.html">MinSectionParser</a>* mp_next_section           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__MinParser.html">MinParser</a> *&nbsp;</td>
          <td class="paramname"> <em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>start_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>end_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seeked</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open and read configuration source and parses a required section. If start tag is empty the parsing starts beging of the configuration file. If end tag is empty the parsing goes end of configuration file. This method will parse next section after the earlier section if seeked parameter is set to 1. If configuration file includes several sections with both start and end tags so seeked parameter seeks the required section. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>[in] adress of the allocated MinParser entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start_tag</em>&nbsp;</td><td>[in] indicates the tag from which the parsing starts. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>end_tag</em>&nbsp;</td><td>[in] indicates the tag on which the parsing ends. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seeked</em>&nbsp;</td><td>[in] indicates the section that will be parsed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>adress of the allocated MinSectionParser entity.</dd></dl>
Possible Errors:<ul>
<li>EINVAL: invalid value was passed to the function. </li></ul>

</div>
</div><p>
<a class="anchor" name="daa9d296f8500c15f9c6680983c4c426"></a><!-- doxytag: member="min_parser.c::mp_next_section_file" ref="daa9d296f8500c15f9c6680983c4c426" args="(MinParser *sp, const TSChar *start_tag, const TSChar *end_tag, int seeked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL <a class="el" href="struct__MinSectionParser.html">MinSectionParser</a> * mp_next_section_file           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__MinParser.html">MinParser</a> *&nbsp;</td>
          <td class="paramname"> <em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>start_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>end_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seeked</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parses sections from configuration files.<p>
Open and read configuration source and parses a required section. If start tag is empty the parsing starts beginning of the configuration file. If end tag is empty the parsing goes end of configuration file. This method will parse next section after the earlier section if seeked parameter is equal to 1. If configuration file includes several sections with both start and end tags so seeked parameter seeks the required section. The seeked parameters indicates section that will be parsed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>[in] adress of the MinParser </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start_tag</em>&nbsp;</td><td>[in] Indicates a start tag for parsing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>end_tag</em>&nbsp;</td><td>[in] Indicates an end tag for parsing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seeked</em>&nbsp;</td><td>[in] a seeked section which will be parsed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>MinSectionParser object or INITPTR in case of failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="33dd38c7eb0bf074282f0e3acfdf005a"></a><!-- doxytag: member="min_parser.c::mp_next_section_memory" ref="33dd38c7eb0bf074282f0e3acfdf005a" args="(MinParser *sp, const TSChar *start_tag, const TSChar *end_tag, int seeked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL <a class="el" href="struct__MinSectionParser.html">MinSectionParser</a> * mp_next_section_memory           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__MinParser.html">MinParser</a> *&nbsp;</td>
          <td class="paramname"> <em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>start_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>end_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seeked</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parses sections from memory.<p>
Open and read configuration source and parses a required section. If start tag is empty the parsing starts beginning of the configuration file. If end tag is empty the parsing goes end of configuration file. This method will parse next section after the earlier section if seeked parameter is set to 1. If configuration source includes several sections with both start and end tags so seeked parameter seeks the required section. The aSeeked parameters indicates section that will be parsed.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>[in] adress of the MinParser </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start_tag</em>&nbsp;</td><td>[in] Indicates a start tag for parsing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>end_tag</em>&nbsp;</td><td>[in] Indicates an end tag for parsing. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seeked</em>&nbsp;</td><td>[in] a seeked section which will be parsed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>MinSectionParser object or INITPTR in case of failure.</dd></dl>
Possible Errors:<ul>
<li>EINVAL: invalid parameter.</li><li>EFAULT: sp-&gt;offset bigger than section length </li></ul>

</div>
</div><p>
<a class="anchor" name="20d80bfdd9994ab1bf7607fdbaa499bd"></a><!-- doxytag: member="min_parser.c::mp_parse_comments_off" ref="20d80bfdd9994ab1bf7607fdbaa499bd" args="(TSChar *buff)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void mp_parse_comments_off           </td>
          <td>(</td>
          <td class="paramtype">TSChar *&nbsp;</td>
          <td class="paramname"> <em>buff</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert a section without comments.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buff</em>&nbsp;</td><td>[in:out] section to be processed </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2e3942272ecd6c6fb0a266647360b2b9"></a><!-- doxytag: member="min_parser.c::mp_section" ref="2e3942272ecd6c6fb0a266647360b2b9" args="(MinParser *sp, const TSChar *start_tag, const TSChar *end_tag, int seeked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__MinSectionParser.html">MinSectionParser</a>* mp_section           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__MinParser.html">MinParser</a> *&nbsp;</td>
          <td class="paramname"> <em>sp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>start_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const TSChar *&nbsp;</td>
          <td class="paramname"> <em>end_tag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>seeked</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open and read configuration source and parses a required section. If start tag is empty the parsing starts beging of the configuration file. If end tag is empty the parsing goes end of configuration file. This method starts always from beginning of configuration file and parses first section if seeked parameters is set to 1. If configuration file includes several sections with both start and end tags so seeked parameter seeks the required section. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>[in] adress of the allocated MinParser entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>start_tag</em>&nbsp;</td><td>[in] indicates the tag from which the parsing starts. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>end_tag</em>&nbsp;</td><td>[in] indicates the tag on which the parsing ends. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seeked</em>&nbsp;</td><td>[in] indicates the section that will be parsed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>adress of the allocated MinSectionParser entity.</dd></dl>
Possible Errors:<ul>
<li>EINVAL: invalid value was passed to the function. </li></ul>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 1 08:28:01 2009 for MIN Test Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
