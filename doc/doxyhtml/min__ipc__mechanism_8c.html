<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MIN Test Framework: min/src/utils/ipc/min_ipc_mechanism.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>min/src/utils/ipc/min_ipc_mechanism.c File Reference</h1>This file contains implementation of the IPC Mechanism of MIN. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="min__ipc__mechanism_8h-source.html">min_ipc_mechanism.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#760e59d68f1e62f1af3679e5b361fcc0">mq_wrapper_around_msgsnd</a> (int msqid, <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#e7e055424f592e7f14d219fd53e1164e">mq_msgbuf_to_internal</a> (struct _MIBuff *ibuf, const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#f5a2d809c37d6f5c741f2501be8c9302">mq_internal_to_msgbuf</a> (<a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *buf, const struct _MIBuff *ibuf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#b54e52558413ddd5371475110b5678ae">mq_internal_length</a> (const struct _MIBuff *ibuf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#06a446e30770e0a33eabc43e81090654">_findShmKey</a> (const void *a, const void *b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#44976a04c411742018328f81eec40aaa">_findShmShmid</a> (const void *a, const void *b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#15cab8f1a231a8047f32fe68578ad5db">mq_queue_exists</a> (int queueid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#dc37442727af6c9f45bcc62dd6656111">mq_init_buffer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#5cd80141bf33c1e82e7c65f9abb8a2e6">mq_open_queue</a> (int queueid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#d28eab1fa1ccc6c7c46bbf98b63015da">mq_close_queue</a> (int msqid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#67f015c5ba56c040646edd4ae320f203">mq_send_message</a> (int msqid, <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#9ab628b19b83578ea00e2bddcd4108d0">mq_send_message_block</a> (int msqid, <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#1f461bb5c5ec34d0b5e7fbb845a6d092">mq_send_message2</a> (int msqid, long adress, <a class="el" href="min__ipc__mechanism_8h.html#eeb385a04c59799cbbc31ab4f1e68005">MINMsgType</a> type, int param, const char *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#0bb8a3de57b08890db2f4c735668519e">mq_send_message2_block</a> (int msqid, long adress, <a class="el" href="min__ipc__mechanism_8h.html#eeb385a04c59799cbbc31ab4f1e68005">MINMsgType</a> type, int param, const char *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#5880692ca06cf1838e8b7047784db732">mq_read_message</a> (int msqid, long msg_type, <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *buf)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#c1e28f3d990e27d53045a53ee321d7fd">mq_peek_message</a> (int msqid, long msg_type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#a2f74ba70db0e4d51c8ec2ae5a97d526">mq_flush_msg_buffer</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#0213678f94f79901ae3b89806daecc3b">mq_resend_buffered</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#dc70dee9218e44df0f01ee45116bd72b">mq_buffer_size</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#fb60fd557048ffe6dff360878bd59f9a">sl_pause_process</a> (long pid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#129f9199742a3aa6f729d6dce7418334">sl_resume_process</a> (long pid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#8f9f6a231b435b6da148908b31651c2d">sl_kill_process</a> (long pid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#d39287a5b7d447ddbb14bfe934f16802">sl_set_sighandler</a> (int signum, <a class="el" href="min__ipc__mechanism_8h.html#564498016effaee1f3384e07b7ced24f">sighandler_t</a> sighal)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#0e3cc1acc37c9d19fd2fbf9e69cd4b19">sm_create</a> (int shmgetid, unsigned int size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#84cbbf36ed2f0c9e8b5979a3d95b532e">sm_destroy</a> (int shmid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#ece6bc228e9d16bacf8dd073030e835d">sm_attach</a> (int shmid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#c0009a53cebb237a99232753827c8f5c">sm_detach</a> (void *shmaddr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#33f9074a178cb58bdb0053373f84bb03">sm_read</a> (const void *shmaddr, void *data, unsigned int size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#111554ef472f17d0f580c715167dabd8">sm_write</a> (void *shmaddr, const void *data, unsigned int size)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#88d63d1a7cfb2e0bae50d42e6c080c79">sm_get_handler</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">size_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#8464a90d2b2ba07225d25010a24d593b">sm_get_segsz</a> (int shmid)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ad14eb15a5de7b0a5fd82044ad588a9f"></a><!-- doxytag: member="min_ipc_mechanism.c::__shm_handler__" ref="ad14eb15a5de7b0a5fd82044ad588a9f" args="" -->
LOCAL int&nbsp;</td><td class="memItemRight" valign="bottom"><b>__shm_handler__</b> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8b3b278ac2b36e422ff0dc9becdf69ca"></a><!-- doxytag: member="min_ipc_mechanism.c::__shm_handlers__" ref="8b3b278ac2b36e422ff0dc9becdf69ca" args="" -->
LOCAL <a class="el" href="struct__DLList.html">DLList</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>__shm_handlers__</b> = INITPTR</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL <a class="el" href="struct__DLList.html">DLList</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#609d20bf175d47a265d1886b668b2bfc">msg_buffer</a> = INITPTR</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL pid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__ipc__mechanism_8c.html#4198c08ce55f022796dfe7fb0c74001c">lastpid</a> = 0</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file contains implementation of the IPC Mechanism of MIN. 
<p>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="06a446e30770e0a33eabc43e81090654"></a><!-- doxytag: member="min_ipc_mechanism.c::_findShmKey" ref="06a446e30770e0a33eabc43e81090654" args="(const void *a, const void *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL int _findShmKey           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used for comparing SHM keys, passed as search function to <a class="el" href="dllist_8c.html#b10e4686b9158fec1fa427393b2c28c7">dl_list_find()</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>void pointer to ShmItem </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>void poinoter to SHM key </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 when match is found -1 otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="44976a04c411742018328f81eec40aaa"></a><!-- doxytag: member="min_ipc_mechanism.c::_findShmShmid" ref="44976a04c411742018328f81eec40aaa" args="(const void *a, const void *b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL int _findShmShmid           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Used for comparing SHM ids, passed as search function to <a class="el" href="dllist_8c.html#b10e4686b9158fec1fa427393b2c28c7">dl_list_find()</a>. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>a</em>&nbsp;</td><td>void pointer to ShmItem </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>void poinoter to SHM id </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 when match is found -1 otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="dc70dee9218e44df0f01ee45116bd72b"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_buffer_size" ref="dc70dee9218e44df0f01ee45116bd72b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_buffer_size           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns number of messages in msg_buffer. 
</div>
</div><p>
<a class="anchor" name="d28eab1fa1ccc6c7c46bbf98b63015da"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_close_queue" ref="d28eab1fa1ccc6c7c46bbf98b63015da" args="(int msqid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_close_queue           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msqid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes message queue. The queue is removed from the system. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msqid</em>&nbsp;</td><td>message queue identifier. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="a2f74ba70db0e4d51c8ec2ae5a97d526"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_flush_msg_buffer" ref="a2f74ba70db0e4d51c8ec2ae5a97d526" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mq_flush_msg_buffer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flushes msg_buffer 
</div>
</div><p>
<a class="anchor" name="dc37442727af6c9f45bcc62dd6656111"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_init_buffer" ref="dc37442727af6c9f45bcc62dd6656111" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mq_init_buffer           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the message buffer. 
</div>
</div><p>
<a class="anchor" name="b54e52558413ddd5371475110b5678ae"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_internal_length" ref="b54e52558413ddd5371475110b5678ae" args="(const struct _MIBuff *ibuf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL unsigned int mq_internal_length           </td>
          <td>(</td>
          <td class="paramtype">const struct _MIBuff *&nbsp;</td>
          <td class="paramname"> <em>ibuf</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Calculates the size of internal buffer in bytes. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ibuf</em>&nbsp;</td><td>[IN] internal message buffer </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>size of message in buffer in bytes </dd></dl>

</div>
</div><p>
<a class="anchor" name="f5a2d809c37d6f5c741f2501be8c9302"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_internal_to_msgbuf" ref="f5a2d809c37d6f5c741f2501be8c9302" args="(MsgBuffer *buf, const struct _MIBuff *ibuf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void mq_internal_to_msgbuf           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct _MIBuff *&nbsp;</td>
          <td class="paramname"> <em>ibuf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Translates internally used _MIBuff to MsgBuffer. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>[OUT] will hold the data after translation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ibuf</em>&nbsp;</td><td>[IN] data to be translated </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e7e055424f592e7f14d219fd53e1164e"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_msgbuf_to_internal" ref="e7e055424f592e7f14d219fd53e1164e" args="(struct _MIBuff *ibuf, const MsgBuffer *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void mq_msgbuf_to_internal           </td>
          <td>(</td>
          <td class="paramtype">struct _MIBuff *&nbsp;</td>
          <td class="paramname"> <em>ibuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Translates MsgBuffer to internally used _MIBuff. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ibuf</em>&nbsp;</td><td>[OUT] will hold the data after translation </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>[IN] data to be translated </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5cd80141bf33c1e82e7c65f9abb8a2e6"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_open_queue" ref="5cd80141bf33c1e82e7c65f9abb8a2e6" args="(int queueid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_open_queue           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>queueid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new message queue, if queue identified by given key already exists its id is returned. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queueid</em>&nbsp;</td><td>queue id, which is 8bit number. Char can be used instead </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>queue id number, or -1 in case of failure</dd></dl>
Possible Errors:<ul>
<li>ENOSPC Maximum number of allowed message queue has been reached.</li><li>EFAULT Error in opening. </li></ul>

</div>
</div><p>
<a class="anchor" name="c1e28f3d990e27d53045a53ee321d7fd"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_peek_message" ref="c1e28f3d990e27d53045a53ee321d7fd" args="(int msqid, long msg_type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_peek_message           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msqid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>msg_type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Peeks message queue to see if mesage of given type has arrived. This function is no blocking. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msqid</em>&nbsp;</td><td>message queue identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg_type</em>&nbsp;</td><td>the type of message we are waiting for. If == 0 then messages of all types will be metched. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 when message arrives, 0 when there is no message. </dd></dl>

</div>
</div><p>
<a class="anchor" name="15cab8f1a231a8047f32fe68578ad5db"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_queue_exists" ref="15cab8f1a231a8047f32fe68578ad5db" args="(int queueid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_queue_exists           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>queueid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks if queue of a given id already exists. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>queueid</em>&nbsp;</td><td>queue id, which is 8bit number. Char can be used instead. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 when queue exists, 1 when queue does not exists, -1 in case of failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5880692ca06cf1838e8b7047784db732"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_read_message" ref="5880692ca06cf1838e8b7047784db732" args="(int msqid, long msg_type, MsgBuffer *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_read_message           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msqid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>msg_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads message from queue. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msqid</em>&nbsp;</td><td>message queue identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg_type</em>&nbsp;</td><td>the type of message we are going to read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>pointer to the buffer for incomming message </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of bytes recieved, or -1 in case of error</dd></dl>
Possible Errors:<ul>
<li>EINVAL invalid value is passed to the function</li><li>EINTR function interrupted by the signal</li><li>EIDRM queue identifier removed from the system</li><li>E2BIG message to big to be recieved </li></ul>

</div>
</div><p>
<a class="anchor" name="0213678f94f79901ae3b89806daecc3b"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_resend_buffered" ref="0213678f94f79901ae3b89806daecc3b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mq_resend_buffered           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resends messages from the buffer. 
</div>
</div><p>
<a class="anchor" name="67f015c5ba56c040646edd4ae320f203"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_send_message" ref="67f015c5ba56c040646edd4ae320f203" args="(int msqid, MsgBuffer *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_send_message           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msqid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends message to the queue. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msqid</em>&nbsp;</td><td>message queue identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>pointer to buffer with data to send </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 when succeded, or -1 in case of failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="1f461bb5c5ec34d0b5e7fbb845a6d092"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_send_message2" ref="1f461bb5c5ec34d0b5e7fbb845a6d092" args="(int msqid, long adress, MINMsgType type, int param, const char *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_send_message2           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msqid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>adress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="min__ipc__mechanism_8h.html#eeb385a04c59799cbbc31ab4f1e68005">MINMsgType</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends message to the queue. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msqid</em>&nbsp;</td><td>message queue identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>adress</em>&nbsp;</td><td>pid of the recieving process </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>message type, </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="min__ipc__mechanism_8h.html#eeb385a04c59799cbbc31ab4f1e68005">MINMsgType</a> </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>message parameter, its value depends on message type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>custom parameter, description of the message, depends on type of the message. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 when succeded, or -1 in case of failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="0bb8a3de57b08890db2f4c735668519e"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_send_message2_block" ref="0bb8a3de57b08890db2f4c735668519e" args="(int msqid, long adress, MINMsgType type, int param, const char *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_send_message2_block           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msqid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>adress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="min__ipc__mechanism_8h.html#eeb385a04c59799cbbc31ab4f1e68005">MINMsgType</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends message to the queue in a blocking way. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msqid</em>&nbsp;</td><td>message queue identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>adress</em>&nbsp;</td><td>pid of the recieving process </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>message type, </td></tr>
  </table>
</dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="min__ipc__mechanism_8h.html#eeb385a04c59799cbbc31ab4f1e68005">MINMsgType</a> </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>message parameter, its value depends on message type </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>custom parameter, description of the message, depends on type of the message. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 when succeded, or -1 in case of failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="9ab628b19b83578ea00e2bddcd4108d0"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_send_message_block" ref="9ab628b19b83578ea00e2bddcd4108d0" args="(int msqid, MsgBuffer *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mq_send_message_block           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msqid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends message to the queue in a blocking way. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msqid</em>&nbsp;</td><td>message queue identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>pointer to buffer with data to send </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 when succeded, or -1 in case of failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="760e59d68f1e62f1af3679e5b361fcc0"></a><!-- doxytag: member="min_ipc_mechanism.c::mq_wrapper_around_msgsnd" ref="760e59d68f1e62f1af3679e5b361fcc0" args="(int msqid, MsgBuffer *buf)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL int mq_wrapper_around_msgsnd           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msqid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>buf</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Wraps around system call msgsnd, it also has error handling included. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>msqid</em>&nbsp;</td><td>POSIX message queue identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>buf</em>&nbsp;</td><td>message to be sent </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>return</em>&nbsp;</td><td>ENOERR on success, -1 on error </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8f9f6a231b435b6da148908b31651c2d"></a><!-- doxytag: member="min_ipc_mechanism.c::sl_kill_process" ref="8f9f6a231b435b6da148908b31651c2d" args="(long pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sl_kill_process           </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>pid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Kills process. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>the id of a process to be killed (&gt;0) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success and -1 on failure</dd></dl>
Possible Errors:<ul>
<li>EINVAL invalid value was passed to the funcion</li><li>ESRCH there is no process of a given pid</li><li>EPERM calling process has no permission to send a signal </li></ul>

</div>
</div><p>
<a class="anchor" name="fb60fd557048ffe6dff360878bd59f9a"></a><!-- doxytag: member="min_ipc_mechanism.c::sl_pause_process" ref="fb60fd557048ffe6dff360878bd59f9a" args="(long pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sl_pause_process           </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>pid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Pauses process. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>the id of a process to be paused (&gt;0) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success and -1 on failure</dd></dl>
Possible Errors:<ul>
<li>EINVAL invalid value was passed to the funcion</li><li>ESRCH there is no process of a given pid</li><li>EPERM calling process has no permission to send a signal </li></ul>

</div>
</div><p>
<a class="anchor" name="129f9199742a3aa6f729d6dce7418334"></a><!-- doxytag: member="min_ipc_mechanism.c::sl_resume_process" ref="129f9199742a3aa6f729d6dce7418334" args="(long pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sl_resume_process           </td>
          <td>(</td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>pid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resumes process. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>the id of a process to be resumed (&gt;0) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success and -1 on failure</dd></dl>
Possible Errors:<ul>
<li>EINVAL invalid value was passed to the funcion</li><li>ESRCH there is no process of a given pid</li><li>EPERM calling process has no permission to send a signal </li></ul>

</div>
</div><p>
<a class="anchor" name="d39287a5b7d447ddbb14bfe934f16802"></a><!-- doxytag: member="min_ipc_mechanism.c::sl_set_sighandler" ref="d39287a5b7d447ddbb14bfe934f16802" args="(int signum, sighandler_t sighal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sl_set_sighandler           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>signum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="min__ipc__mechanism_8h.html#564498016effaee1f3384e07b7ced24f">sighandler_t</a>&nbsp;</td>
          <td class="paramname"> <em>sighal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets signal handler for the given signal. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>signum</em>&nbsp;</td><td>is the signal id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sighal</em>&nbsp;</td><td>pointer to the signal handler function. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>-1 on failure, 0 on success. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ece6bc228e9d16bacf8dd073030e835d"></a><!-- doxytag: member="min_ipc_mechanism.c::sm_attach" ref="ece6bc228e9d16bacf8dd073030e835d" args="(int shmid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* sm_attach           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>shmid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns pointer to the allocated shared memory segment. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shmid</em>&nbsp;</td><td>[in] id of the shared memory segment we want to be attached to </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>pointer to the SH segment, or INITPTR in case of failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="0e3cc1acc37c9d19fd2fbf9e69cd4b19"></a><!-- doxytag: member="min_ipc_mechanism.c::sm_create" ref="0e3cc1acc37c9d19fd2fbf9e69cd4b19" args="(int shmgetid, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sm_create           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>shmgetid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets shared memory segment <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shmgetid</em>&nbsp;</td><td>[in] key used when requesting shared memmory segment. 8bit </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>[in] the size of shared memory segment. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>shared memory id or -1 in case of failure.</dd></dl>
Possible Errors:<ul>
<li>EFAULT: error in function </li></ul>

</div>
</div><p>
<a class="anchor" name="84cbbf36ed2f0c9e8b5979a3d95b532e"></a><!-- doxytag: member="min_ipc_mechanism.c::sm_destroy" ref="84cbbf36ed2f0c9e8b5979a3d95b532e" args="(int shmid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sm_destroy           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>shmid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Marks shared memory segment to be destroyed. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shmid</em>&nbsp;</td><td>[in] the id of the shared memory segment to be destroyed. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 in case of success, -1 otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c0009a53cebb237a99232753827c8f5c"></a><!-- doxytag: member="min_ipc_mechanism.c::sm_detach" ref="c0009a53cebb237a99232753827c8f5c" args="(void *shmaddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sm_detach           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>shmaddr</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Detaches shared memory segment. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shmaddr</em>&nbsp;</td><td>address of segment. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="88d63d1a7cfb2e0bae50d42e6c080c79"></a><!-- doxytag: member="min_ipc_mechanism.c::sm_get_handler" ref="88d63d1a7cfb2e0bae50d42e6c080c79" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sm_get_handler           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the global handler of message queue 
</div>
</div><p>
<a class="anchor" name="8464a90d2b2ba07225d25010a24d593b"></a><!-- doxytag: member="min_ipc_mechanism.c::sm_get_segsz" ref="8464a90d2b2ba07225d25010a24d593b" args="(int shmid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t sm_get_segsz           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>shmid</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the size of SHM segment <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shmid</em>&nbsp;</td><td>[in] id of the shared memory segment we want to be attached to </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>size of the segment or 0 </dd></dl>

</div>
</div><p>
<a class="anchor" name="33f9074a178cb58bdb0053373f84bb03"></a><!-- doxytag: member="min_ipc_mechanism.c::sm_read" ref="33f9074a178cb58bdb0053373f84bb03" args="(const void *shmaddr, void *data, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sm_read           </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>shmaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads from shared memory segment. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shmaddr</em>&nbsp;</td><td>[IN] address of segment </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>[OUT] buffer used for saving the read data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>[IN] number of bytes to read </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>ENOERR on success, -1 on error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="111554ef472f17d0f580c715167dabd8"></a><!-- doxytag: member="min_ipc_mechanism.c::sm_write" ref="111554ef472f17d0f580c715167dabd8" args="(void *shmaddr, const void *data, unsigned int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sm_write           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>shmaddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes to shared memory segment <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>shmaddr</em>&nbsp;</td><td>address of segment </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>data to be written </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>size</em>&nbsp;</td><td>of data in bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>ENOERR on success, -1 on error. </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="4198c08ce55f022796dfe7fb0c74001c"></a><!-- doxytag: member="min_ipc_mechanism.c::lastpid" ref="4198c08ce55f022796dfe7fb0c74001c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL pid_t <a class="el" href="min__ipc__mechanism_8c.html#4198c08ce55f022796dfe7fb0c74001c">lastpid</a> = 0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
PID of process that has called mq_open_queue. We need to keep a track of process we are in because fork will copy msg_buffer so it will be redundand. Solution is to flush the buffer when pid will change = situation where there is one buffer per process 
</div>
</div><p>
<a class="anchor" name="609d20bf175d47a265d1886b668b2bfc"></a><!-- doxytag: member="min_ipc_mechanism.c::msg_buffer" ref="609d20bf175d47a265d1886b668b2bfc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL <a class="el" href="struct__DLList.html">DLList</a>* <a class="el" href="min__ipc__mechanism_8c.html#609d20bf175d47a265d1886b668b2bfc">msg_buffer</a> = INITPTR          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Buffer for messages that are waiting to be send 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 1 08:28:01 2009 for MIN Test Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
