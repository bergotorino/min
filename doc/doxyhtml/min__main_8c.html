<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MIN Test Framework: min/src/main/min_main.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>min/src/main/min_main.c File Reference</h1>This file contains implementation of MIN daemoin. <a href="#_details">More...</a>
<p>
<code>#include &lt;getopt.h&gt;</code><br>
<code>#include &lt;<a class="el" href="min__common_8h-source.html">min_common.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="cli_8h-source.html">cli.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="consoleui_8h-source.html">consoleui.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="tcpip__plugin_8h-source.html">tcpip_plugin.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="tec_8h-source.html">tec.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="tec__tcp__handling_8h-source.html">tec_tcp_handling.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="data__api_8h-source.html">data_api.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="min__engine__api_8h-source.html">min_engine_api.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="dllist_8h-source.html">dllist.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="tllib_8h-source.html">tllib.h</a>&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#a2d22635fb6290cdaa3deb7afe80ea9a">display_version</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#22cd3c4d5c6f8e72d8d03dc1d6f39a77">display_license</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#a169a3d5b65b825813a9f54766202456">display_help</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#5dfa583840c5532b6a641b4c1b77ea20">patch_path</a> (char *p)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#79a45d7ca95c49ed0ec41346a9bf5776">add_command_line_modules</a> (<a class="el" href="struct__DLList.html">DLList</a> *modulelist)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#1ed8b585e5987d08cdf766fb4653bcfa">add_ip_slaves</a> (<a class="el" href="struct__DLList.html">DLList</a> *slavelist)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL pthread_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#19cda32d37f9a4bf8b64e39f408517ec">load_plugin</a> (const char *plugin_name, void *plugin_conf, void **p_plugin_handle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#dedb285b02c41bde2158ded9cc9fd7ac">main</a> (int argc, char *argv[], char *envp[])</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="db50a0eab9fed92fc3bfc7dfa4f2c410"></a><!-- doxytag: member="min_main.c::optarg" ref="db50a0eab9fed92fc3bfc7dfa4f2c410" args="" -->
char *&nbsp;</td><td class="memItemRight" valign="bottom"><b>optarg</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structeapiIn__t.html">eapiIn_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#1e7d136cf4e94c2fb75af05678c982ac">in_str</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#5d5384faf763d879c25277c8c078f3ed">min_return_value</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structeapiIn__t.html">eapiIn_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="min__main_8c.html#734e47aea1017249ab09f86a85c1e4d3">in</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e82a7677b0e7fa3c8e3bdd1949b387fc"></a><!-- doxytag: member="min_main.c::out" ref="e82a7677b0e7fa3c8e3bdd1949b387fc" args="" -->
<a class="el" href="structeapiOut__t.html">eapiOut_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><b>out</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7b76402b825b849162175f47a71fab71"></a><!-- doxytag: member="min_main.c::slave_exit" ref="7b76402b825b849162175f47a71fab71" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>slave_exit</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4568c758c3779cfda0d860c3604ae0e3"></a><!-- doxytag: member="min_main.c::out_str" ref="4568c758c3779cfda0d860c3604ae0e3" args="" -->
<a class="el" href="structeapiOut__t.html">eapiOut_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>out_str</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file contains implementation of MIN daemoin. 
<p>
This file contains implementation of MIN main.<p>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="79a45d7ca95c49ed0ec41346a9bf5776"></a><!-- doxytag: member="min_main.c::add_command_line_modules" ref="79a45d7ca95c49ed0ec41346a9bf5776" args="(DLList *modulelist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL int add_command_line_modules           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__DLList.html">DLList</a> *&nbsp;</td>
          <td class="paramname"> <em>modulelist</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds the modules and configuration files given from commandline <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>modulelist</em>&nbsp;</td><td>list of module and filenames </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 - on success, 1 - on error (e.g. file not found) </dd></dl>

</div>
</div><p>
<a class="anchor" name="1ed8b585e5987d08cdf766fb4653bcfa"></a><!-- doxytag: member="min_main.c::add_ip_slaves" ref="1ed8b585e5987d08cdf766fb4653bcfa" args="(DLList *slavelist)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL int add_ip_slaves           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__DLList.html">DLList</a> *&nbsp;</td>
          <td class="paramname"> <em>slavelist</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Adds the IP slaves given from commandline through eapi to slave pool <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slavelist</em>&nbsp;</td><td>list of hostnames or ip addresses </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 - on success, 1 - on error </dd></dl>

</div>
</div><p>
<a class="anchor" name="a169a3d5b65b825813a9f54766202456"></a><!-- doxytag: member="min_main.c::display_help" ref="a169a3d5b65b825813a9f54766202456" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void display_help           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Displays short help 
</div>
</div><p>
<a class="anchor" name="22cd3c4d5c6f8e72d8d03dc1d6f39a77"></a><!-- doxytag: member="min_main.c::display_license" ref="22cd3c4d5c6f8e72d8d03dc1d6f39a77" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void display_license           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Displays license and contact information 
</div>
</div><p>
<a class="anchor" name="a2d22635fb6290cdaa3deb7afe80ea9a"></a><!-- doxytag: member="min_main.c::display_version" ref="a2d22635fb6290cdaa3deb7afe80ea9a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void display_version           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Displays the MIN release tag 
</div>
</div><p>
<a class="anchor" name="19cda32d37f9a4bf8b64e39f408517ec"></a><!-- doxytag: member="min_main.c::load_plugin" ref="19cda32d37f9a4bf8b64e39f408517ec" args="(const char *plugin_name, void *plugin_conf, void **p_plugin_handle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL pthread_t load_plugin           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>plugin_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>plugin_conf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&nbsp;</td>
          <td class="paramname"> <em>p_plugin_handle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Loads the plugin with given name and starts executing it in a thread <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>plugin_name</em>&nbsp;</td><td>short name for the plugin e.g. "cui" loads "min_cui.so" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>plugin_conf</em>&nbsp;</td><td>passed as is to the plugin </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>p_plugin_handle</em>&nbsp;</td><td>[out] used to pass the handler for dynamically loaded plugin to caller </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>handler for the created thread </dd></dl>

</div>
</div><p>
<a class="anchor" name="dedb285b02c41bde2158ded9cc9fd7ac"></a><!-- doxytag: member="min_main.c::main" ref="dedb285b02c41bde2158ded9cc9fd7ac" args="(int argc, char *argv[], char *envp[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>envp</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<a class="el" href="min__main_8c.html#dedb285b02c41bde2158ded9cc9fd7ac">main()</a> for MIN - handle command line swithces and load plugins <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>argc</em>&nbsp;</td><td>argument count </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>argv</em>&nbsp;</td><td>arguments </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>evnp</em>&nbsp;</td><td>environment </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of failed (aborted,crashed) cases or -1 in case of serious error </dd></dl>

<p>
Load plugin and go 
</div>
</div><p>
<a class="anchor" name="5dfa583840c5532b6a641b4c1b77ea20"></a><!-- doxytag: member="min_main.c::patch_path" ref="5dfa583840c5532b6a641b4c1b77ea20" args="(char *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL char* patch_path           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>p</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Appends the pwd to a relative path <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>p</em>&nbsp;</td><td>the path coming from commandline </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the absolute path </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="734e47aea1017249ab09f86a85c1e4d3"></a><!-- doxytag: member="min_main.c::in" ref="734e47aea1017249ab09f86a85c1e4d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structeapiIn__t.html">eapiIn_t</a>* <a class="el" href="mintfwif_8c.html#734e47aea1017249ab09f86a85c1e4d3">in</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Holder for engine api in direction 
</div>
</div><p>
<a class="anchor" name="1e7d136cf4e94c2fb75af05678c982ac"></a><!-- doxytag: member="min_main.c::in_str" ref="1e7d136cf4e94c2fb75af05678c982ac" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structeapiIn__t.html">eapiIn_t</a> <a class="el" href="mintfwif_8c.html#1e7d136cf4e94c2fb75af05678c982ac">in_str</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Logger setting for engine 
</div>
</div><p>
<a class="anchor" name="5d5384faf763d879c25277c8c078f3ed"></a><!-- doxytag: member="min_main.c::min_return_value" ref="5d5384faf763d879c25277c8c078f3ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="min__main_8c.html#5d5384faf763d879c25277c8c078f3ed">min_return_value</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
list of test case title filters. 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 1 08:27:59 2009 for MIN Test Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
