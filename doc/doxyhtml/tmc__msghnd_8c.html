<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MIN Test Framework: min/src/tmc/tmc_msghnd.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>min/src/tmc/tmc_msghnd.c File Reference</h1>This file contains implementation of the TMC message handling. <a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="tmc_8h-source.html">tmc.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="tmc__msghnd_8h-source.html">tmc_msghnd.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="min__common_8h-source.html">min_common.h</a>&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#c3fab9111d9d13a179acd6a7beb55c7c">gu_handle_gtc</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, <a class="el" href="min__common_8h.html#59d401bae2206f42a8e94d7ab20aa484">TSBool</a> send)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#a866d26387b3f42b8e198fad05df8600">gu_handle_exe</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, int id, const char *cfg_file, int delay)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#0f6dba39b356b5f0f2767a7971167706">gu_handle_end</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#d1d94cdf46b30f21716ebc1a39da668f">gu_handle_pause</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#5fc83ad9f75d4bc54f9ab8033a699476">gu_handle_resume</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#4aadade80d06ddf5711f69b26462f224">gu_handle_stop</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#4c3478a3d46fc1fb92d9ddeafd75ff22">gu_handle_usr</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#b905202bf8ac746e24d962a72e78bf5b">gu_handle_event</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#8fb2b5f522723a1f39859dbd3c85abbb">gu_handle_sigsegv</a> (int sig)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#066d08b4d0b2e41eb1ba0433b4383fba">gu_handle_sigusr2</a> (int sig)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#f8a74d564e4cd03a0730509390c499b2">gu_create_tp</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, int id, const char *cfg_file, int delay)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#ca897957d220fcac67347253dd4544d5">gu_handle_extif</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#32ab741507b2471e46e0dccd8194f847">gu_handle_sndrcv</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#e9f93eafdaa335af54dde6638cf3d883">dummy_handler</a> (int sig)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#fcef804486caaf04824d63580658d6bb">gu_read_message</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *input_buffer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#833226d195fbd648afab00806b045179">gu_handle_message</a> (<a class="el" href="structTMC__t.html">TMC_t</a> *tmc, const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *msg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#fc34d815ff78a4603c025c19271ee266">gu_handle_sigchld</a> (int sig)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#e89d2371c07aba96bff1d9fd203d97e0">ptmc</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="71e90207f353f2b89886d6ae3c615f86"></a><!-- doxytag: member="tmc_msghnd.c::globaltcr" ref="71e90207f353f2b89886d6ae3c615f86" args="" -->
<a class="el" href="struct__TestCaseResult.html">TestCaseResult</a>&nbsp;</td><td class="memItemRight" valign="bottom"><b>globaltcr</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="min__common_8h.html#59d401bae2206f42a8e94d7ab20aa484">TSBool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tmc__msghnd_8c.html#d608464896b0c28801681dafa260b4f7">tp_exit_flag</a> = ESFalse</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This file contains implementation of the TMC message handling. 
<p>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e9f93eafdaa335af54dde6638cf3d883"></a><!-- doxytag: member="tmc_msghnd.c::dummy_handler" ref="e9f93eafdaa335af54dde6638cf3d883" args="(int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dummy_handler           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sig</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Dummy sigchld handler<p>
Signal handler that does nothing <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sig</em>&nbsp;</td><td>number of the signal </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f8a74d564e4cd03a0730509390c499b2"></a><!-- doxytag: member="tmc_msghnd.c::gu_create_tp" ref="f8a74d564e4cd03a0730509390c499b2" args="(TMC_t *tmc, int id, const char *cfg_file, int delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_create_tp           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>cfg_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a test process <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the test module controller </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>id of the test case to be executed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg_file</em>&nbsp;</td><td>config file </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>delay</em>&nbsp;</td><td>flag stating if we should wait for few secs before starting the test function </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0f6dba39b356b5f0f2767a7971167706"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_end" ref="0f6dba39b356b5f0f2767a7971167706" args="(TMC_t *tmc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_end           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_END handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity.</td></tr>
  </table>
</dl>
Exits from the main event loop. 
</div>
</div><p>
<a class="anchor" name="b905202bf8ac746e24d962a72e78bf5b"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_event" ref="b905202bf8ac746e24d962a72e78bf5b" args="(TMC_t *tmc, const MsgBuffer *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_event           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_EVENT handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>recieved message from test process which is forwarded to engine.</td></tr>
  </table>
</dl>
Forwards message to the engine. 
</div>
</div><p>
<a class="anchor" name="a866d26387b3f42b8e198fad05df8600"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_exe" ref="a866d26387b3f42b8e198fad05df8600" args="(TMC_t *tmc, int id, const char *cfg_file, int delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_exe           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>cfg_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_EXE handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>test case id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cfg_file</em>&nbsp;</td><td>name of the configuration file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>delay</em>&nbsp;</td><td>flag stating if we should wait for few secs before starting the test function</td></tr>
  </table>
</dl>
Executes a test case of a given id. 
</div>
</div><p>
<a class="anchor" name="ca897957d220fcac67347253dd4544d5"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_extif" ref="ca897957d220fcac67347253dd4544d5" args="(TMC_t *tmc, const MsgBuffer *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_extif           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_EXT handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the test module controller </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>[in] message that came through IPC </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c3fab9111d9d13a179acd6a7beb55c7c"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_gtc" ref="c3fab9111d9d13a179acd6a7beb55c7c" args="(TMC_t *tmc, TSBool send)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gu_handle_gtc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="min__common_8h.html#59d401bae2206f42a8e94d7ab20aa484">TSBool</a>&nbsp;</td>
          <td class="paramname"> <em>send</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_GTC handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>send</em>&nbsp;</td><td>flag stating wheter we should actually send the test cases (temporary TMC does not) Sends MSG_TCD messages to the engine. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="833226d195fbd648afab00806b045179"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_message" ref="833226d195fbd648afab00806b045179" args="(TMC_t *tmc, const MsgBuffer *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gu_handle_message           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Main message handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>recieved message.</td></tr>
  </table>
</dl>
It calls appropiate handler for each type of message. 
</div>
</div><p>
<a class="anchor" name="d1d94cdf46b30f21716ebc1a39da668f"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_pause" ref="d1d94cdf46b30f21716ebc1a39da668f" args="(TMC_t *tmc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_pause           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_PAUSE handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity.</td></tr>
  </table>
</dl>
Pauses Test Process - if any. 
</div>
</div><p>
<a class="anchor" name="5fc83ad9f75d4bc54f9ab8033a699476"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_resume" ref="5fc83ad9f75d4bc54f9ab8033a699476" args="(TMC_t *tmc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_resume           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_RESUME handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity.</td></tr>
  </table>
</dl>
Resumes Test Process - if paused. 
</div>
</div><p>
<a class="anchor" name="fc34d815ff78a4603c025c19271ee266"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_sigchld" ref="fc34d815ff78a4603c025c19271ee266" args="(int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gu_handle_sigchld           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sig</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
SIGCHLD handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sig</em>&nbsp;</td><td>number of the signal</td></tr>
  </table>
</dl>
Handles Test Process termination event. Called async. by the system. 
</div>
</div><p>
<a class="anchor" name="8fb2b5f522723a1f39859dbd3c85abbb"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_sigsegv" ref="8fb2b5f522723a1f39859dbd3c85abbb" args="(int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gu_handle_sigsegv           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sig</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
SIGSEGV handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sig</em>&nbsp;</td><td>number of the signal</td></tr>
  </table>
</dl>
Handles Test Process crashing event. Called async. by the system. 
</div>
</div><p>
<a class="anchor" name="066d08b4d0b2e41eb1ba0433b4383fba"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_sigusr2" ref="066d08b4d0b2e41eb1ba0433b4383fba" args="(int sig)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gu_handle_sigusr2           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sig</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
SIGUSR2 handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sig</em>&nbsp;</td><td>number of the signal</td></tr>
  </table>
</dl>
Handles SIGUSR2 sent by the TMC. The SIGUSR2 is used instead of SIGKILL for killing the Test Process, because SIGKILL is not always received by the TP (FFS). 
</div>
</div><p>
<a class="anchor" name="32ab741507b2471e46e0dccd8194f847"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_sndrcv" ref="32ab741507b2471e46e0dccd8194f847" args="(TMC_t *tmc, const MsgBuffer *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_sndrcv           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_SNDRCV handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the test module controller </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>[in] message that came through IPC </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4aadade80d06ddf5711f69b26462f224"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_stop" ref="4aadade80d06ddf5711f69b26462f224" args="(TMC_t *tmc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_stop           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_STOP handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity.</td></tr>
  </table>
</dl>
Abort Test Process - if any. 
</div>
</div><p>
<a class="anchor" name="4c3478a3d46fc1fb92d9ddeafd75ff22"></a><!-- doxytag: member="tmc_msghnd.c::gu_handle_usr" ref="4c3478a3d46fc1fb92d9ddeafd75ff22" args="(TMC_t *tmc, const MsgBuffer *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void gu_handle_usr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
MSG_USR handler <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>recieved message from test process which is forwarded to engine.</td></tr>
  </table>
</dl>
Forwards message to the engine. 
</div>
</div><p>
<a class="anchor" name="fcef804486caaf04824d63580658d6bb"></a><!-- doxytag: member="tmc_msghnd.c::gu_read_message" ref="fcef804486caaf04824d63580658d6bb" args="(TMC_t *tmc, MsgBuffer *input_buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void gu_read_message           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTMC__t.html">TMC_t</a> *&nbsp;</td>
          <td class="paramname"> <em>tmc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__MsgBuffer.html">MsgBuffer</a> *&nbsp;</td>
          <td class="paramname"> <em>input_buffer</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Message queue listener. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>tmc</em>&nbsp;</td><td>adress of the TMC entity. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>input_buffer</em>&nbsp;</td><td>output parameter for the recieved message. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="e89d2371c07aba96bff1d9fd203d97e0"></a><!-- doxytag: member="tmc_msghnd.c::ptmc" ref="e89d2371c07aba96bff1d9fd203d97e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTMC__t.html">TMC_t</a>* <a class="el" href="tmc__tpc_8c.html#e89d2371c07aba96bff1d9fd203d97e0">ptmc</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
pointer to global TMC structure. Needed in signal handlers<p>
Adress of the TMC structure. Introduced to give access to the TMC structure in signal handlers. 
</div>
</div><p>
<a class="anchor" name="d608464896b0c28801681dafa260b4f7"></a><!-- doxytag: member="tmc_msghnd.c::tp_exit_flag" ref="d608464896b0c28801681dafa260b4f7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="min__common_8h.html#59d401bae2206f42a8e94d7ab20aa484">TSBool</a> <a class="el" href="tmc__msghnd_8c.html#d608464896b0c28801681dafa260b4f7">tp_exit_flag</a> = ESFalse          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
global exit flag, set when SIGUSR2 signal is received 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 1 08:28:01 2009 for MIN Test Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
