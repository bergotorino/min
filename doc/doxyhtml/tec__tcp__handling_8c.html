<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>MIN Test Framework: min/src/engine/tec/tec_tcp_handling.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>min/src/engine/tec/tec_tcp_handling.c File Reference</h1>RCP handling routines for tcp based master slave. <a href="#_details">More...</a>
<p>
<code>#include &lt;sys/types.h&gt;</code><br>
<code>#include &lt;sys/socket.h&gt;</code><br>
<code>#include &lt;sys/select.h&gt;</code><br>
<code>#include &lt;netdb.h&gt;</code><br>
<code>#include &lt;netinet/in.h&gt;</code><br>
<code>#include &lt;arpa/inet.h&gt;</code><br>
<code>#include &lt;pthread.h&gt;</code><br>
<code>#include &lt;limits.h&gt;</code><br>
<code>#include &lt;<a class="el" href="min__parser_8h-source.html">min_parser.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="min__logger_8h-source.html">min_logger.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="tec_8h-source.html">tec.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="tec__events_8h-source.html">tec_events.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="min__common_8h-source.html">min_common.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="dllist_8h-source.html">dllist.h</a>&gt;</code><br>
<code>#include &lt;<a class="el" href="tec__rcp__handling_8h-source.html">tec_rcp_handling.h</a>&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#531c60f2bece833e3d14223f7511227d">set_active_rcp_sockets</a> (fd_set *rd, fd_set *wr, int nfds)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#a257f093007d720fd67b9d9e76a4d83d">rw_rcp_sockets</a> (fd_set *rd, fd_set *rw)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#b5dce90988ec23277429c14f58fd76e5">socket_read_rcp</a> (<a class="el" href="structslave__info.html">slave_info</a> *slave)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#eb71dc6a2b3990258db63a9b24c577d8">socket_write_rcp</a> (<a class="el" href="structslave__info.html">slave_info</a> *slave)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL <a class="el" href="structslave__info.html">slave_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#2193740f85c6116b6cf60a204e25e9d2">find_slave_by_fd</a> (int <a class="el" href="tcpip__plugin_8c.html#6f8059414f0228f0256115e024eeed4b">fd</a>, <a class="el" href="struct__DLListItem.html">DLListIterator</a> *itp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL <a class="el" href="structslave__info.html">slave_info</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#fb799955d44d540a9b04a24f715b6cdf">find_master</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#3c0def4463e9c5a09b90e32007ebdad9">free_tcp_slave</a> (<a class="el" href="structslave__info.html">slave_info</a> *slave)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">LOCAL int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#ebac6c3ece2d4e6ab41c207a00820c6f">splithex</a> (char *hex, int *dev_id, int *case_id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#b3d9b0ab9db06d1a9ce0c335aaf53b69">ec_poll_sockets</a> (void *arg)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#9ffae82b156f9390bac57249914db2d3">socket_send_rcp</a> (char *cmd, char *sender, char *rcvr, char *msg, int <a class="el" href="tcpip__plugin_8c.html#6f8059414f0228f0256115e024eeed4b">fd</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#c0534500df36cfb843de26b7c9f25a78">allocate_ip_slave</a> (char *slavetype, char *slavename, pid_t pid)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#92400a8112842d18af70916119cc49b4">new_tcp_master</a> (int socket)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#836802590b0f945fba19d8c18c2a1ba3">tcp_slave_close</a> (<a class="el" href="structslave__info.html">slave_info</a> *slave)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#af80239eddaffcb474e6437b41b1aa7d">tcp_msg_handle_response</a> (<a class="el" href="struct__MinItemParser.html">MinItemParser</a> *extif_message)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct__DLList.html">DLList</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="tec__tcp__handling_8c.html#5985d64529efe3c1d443b4f6985c66e4">ms_assoc</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7b76402b825b849162175f47a71fab71"></a><!-- doxytag: member="tec_tcp_handling.c::slave_exit" ref="7b76402b825b849162175f47a71fab71" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>slave_exit</b></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5726aa52ca34130fca547df70ff87a96"></a><!-- doxytag: member="tec_tcp_handling.c::rcp_listen_socket" ref="5726aa52ca34130fca547df70ff87a96" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>rcp_listen_socket</b> = -1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="6b878f1f75e0761af954e71c9aac5295"></a><!-- doxytag: member="tec_tcp_handling.c::socket_write_mutex_" ref="6b878f1f75e0761af954e71c9aac5295" args="" -->
pthread_mutex_t&nbsp;</td><td class="memItemRight" valign="bottom"><b>socket_write_mutex_</b> = PTHREAD_MUTEX_INITIALIZER</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ef8d0e67bf48cde3f346cf9d4f9b3f5f"></a><!-- doxytag: member="tec_tcp_handling.c::current_slave_fd" ref="ef8d0e67bf48cde3f346cf9d4f9b3f5f" args="" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><b>current_slave_fd</b></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
RCP handling routines for tcp based master slave. 
<p>
<dl class="version" compact><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="c0534500df36cfb843de26b7c9f25a78"></a><!-- doxytag: member="tec_tcp_handling.c::allocate_ip_slave" ref="c0534500df36cfb843de26b7c9f25a78" args="(char *slavetype, char *slavename, pid_t pid)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int allocate_ip_slave           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>slavetype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>slavename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pid_t&nbsp;</td>
          <td class="paramname"> <em>pid</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tries to allocate slave entry for IP communication <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>he</em>&nbsp;</td><td>host address information </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>slavetype</em>&nbsp;</td><td>type of the slave e.g. "phone" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>pid</em>&nbsp;</td><td>process identifier of the slave test case </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, 1 on error </dd></dl>

</div>
</div><p>
<a class="anchor" name="b3d9b0ab9db06d1a9ce0c335aaf53b69"></a><!-- doxytag: member="tec_tcp_handling.c::ec_poll_sockets" ref="b3d9b0ab9db06d1a9ce0c335aaf53b69" args="(void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* ec_poll_sockets           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Handles socket polling thread <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>not used </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>NULL </dd></dl>

</div>
</div><p>
<a class="anchor" name="fb799955d44d540a9b04a24f715b6cdf"></a><!-- doxytag: member="tec_tcp_handling.c::find_master" ref="fb799955d44d540a9b04a24f715b6cdf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL <a class="el" href="structslave__info.html">slave_info</a> * find_master           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Searches for master (a "special" slave) <dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="structslave__info.html">slave_info</a> if found, INITPTR if not </dd></dl>

</div>
</div><p>
<a class="anchor" name="2193740f85c6116b6cf60a204e25e9d2"></a><!-- doxytag: member="tec_tcp_handling.c::find_slave_by_fd" ref="2193740f85c6116b6cf60a204e25e9d2" args="(int fd, DLListIterator *itp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL <a class="el" href="structslave__info.html">slave_info</a> * find_slave_by_fd           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct__DLListItem.html">DLListIterator</a> *&nbsp;</td>
          <td class="paramname"> <em>itp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds a slave with fd <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>search key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>itp</em>&nbsp;</td><td>out used to pass also the DLListIterator to caller </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd><a class="el" href="structslave__info.html">slave_info</a> if found, INITPTR if not </dd></dl>

</div>
</div><p>
<a class="anchor" name="3c0def4463e9c5a09b90e32007ebdad9"></a><!-- doxytag: member="tec_tcp_handling.c::free_tcp_slave" ref="3c0def4463e9c5a09b90e32007ebdad9" args="(slave_info *slave)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void free_tcp_slave           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structslave__info.html">slave_info</a> *&nbsp;</td>
          <td class="paramname"> <em>slave</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Frees the tcp type slave - closes slave socket, marks the slave free <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slave</em>&nbsp;</td><td>slave to be freed </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="92400a8112842d18af70916119cc49b4"></a><!-- doxytag: member="tec_tcp_handling.c::new_tcp_master" ref="92400a8112842d18af70916119cc49b4" args="(int socket)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void new_tcp_master           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>socket</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Creates a new master entry. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>socket</em>&nbsp;</td><td>the socket of the master </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a257f093007d720fd67b9d9e76a4d83d"></a><!-- doxytag: member="tec_tcp_handling.c::rw_rcp_sockets" ref="a257f093007d720fd67b9d9e76a4d83d" args="(fd_set *rd, fd_set *rw)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void rw_rcp_sockets           </td>
          <td>(</td>
          <td class="paramtype">fd_set *&nbsp;</td>
          <td class="paramname"> <em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&nbsp;</td>
          <td class="paramname"> <em>wr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read/write sockets <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rd</em>&nbsp;</td><td>set of read sockets </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wr</em>&nbsp;</td><td>set of write sockets </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="531c60f2bece833e3d14223f7511227d"></a><!-- doxytag: member="tec_tcp_handling.c::set_active_rcp_sockets" ref="531c60f2bece833e3d14223f7511227d" args="(fd_set *rd, fd_set *wr, int nfds)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL int set_active_rcp_sockets           </td>
          <td>(</td>
          <td class="paramtype">fd_set *&nbsp;</td>
          <td class="paramname"> <em>rd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">fd_set *&nbsp;</td>
          <td class="paramname"> <em>wr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nfds</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Goes through the list of slaves and sets sockets that are available for reading or writing to the fd sets <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rd</em>&nbsp;</td><td>set of read sockets </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>wr</em>&nbsp;</td><td>set of write sockets </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nfds</em>&nbsp;</td><td>highest fd in sets before calling this func </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the value of highest fd in set </dd></dl>

</div>
</div><p>
<a class="anchor" name="b5dce90988ec23277429c14f58fd76e5"></a><!-- doxytag: member="tec_tcp_handling.c::socket_read_rcp" ref="b5dce90988ec23277429c14f58fd76e5" args="(slave_info *slave)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void socket_read_rcp           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structslave__info.html">slave_info</a> *&nbsp;</td>
          <td class="paramname"> <em>slave</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the socket bound to the <a class="el" href="structslave__info.html">slave_info</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structslave__info.html">slave_info</a></em>&nbsp;</td><td>the slave with a socket available for reading </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="9ffae82b156f9390bac57249914db2d3"></a><!-- doxytag: member="tec_tcp_handling.c::socket_send_rcp" ref="9ffae82b156f9390bac57249914db2d3" args="(char *cmd, char *sender, char *rcvr, char *msg, int fd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void socket_send_rcp           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>rcvr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>fd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Build rcp message and adds it to the write queue of slave <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>cmd</em>&nbsp;</td><td>command e.g. "reserve" </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sender</em>&nbsp;</td><td>RCP sender identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rcvr</em>&nbsp;</td><td>RCP receiver identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>msg</em>&nbsp;</td><td>the rest of message </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fd</em>&nbsp;</td><td>the socket of the destination </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="eb71dc6a2b3990258db63a9b24c577d8"></a><!-- doxytag: member="tec_tcp_handling.c::socket_write_rcp" ref="eb71dc6a2b3990258db63a9b24c577d8" args="(slave_info *slave)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL void socket_write_rcp           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structslave__info.html">slave_info</a> *&nbsp;</td>
          <td class="paramname"> <em>slave</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes to socket bound to <a class="el" href="structslave__info.html">slave_info</a> <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="structslave__info.html">slave_info</a></em>&nbsp;</td><td>the slave with a socket available for writing </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ebac6c3ece2d4e6ab41c207a00820c6f"></a><!-- doxytag: member="tec_tcp_handling.c::splithex" ref="ebac6c3ece2d4e6ab41c207a00820c6f" args="(char *hex, int *dev_id, int *case_id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LOCAL int splithex           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>hex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>case_id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Splits RCP's adress string fields into two ints. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>hex</em>&nbsp;</td><td>[in] string to be split, has to be 8 characters, otherwise function fails </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dev_id</em>&nbsp;</td><td>[out] pointer to int that will hold device id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>case_id</em>&nbsp;</td><td>[out] pointer to int that will hold case id </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result of operation, 0 if ok </dd></dl>

</div>
</div><p>
<a class="anchor" name="af80239eddaffcb474e6437b41b1aa7d"></a><!-- doxytag: member="tec_tcp_handling.c::tcp_msg_handle_response" ref="af80239eddaffcb474e6437b41b1aa7d" args="(MinItemParser *extif_message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tcp_msg_handle_response           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct__MinItemParser.html">MinItemParser</a> *&nbsp;</td>
          <td class="paramname"> <em>extif_message</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function handles "response" message coming from external controller over tcp <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>extif_message</em>&nbsp;</td><td>pointer to item parser. It is assumed that mip_get_string was executed once for this parser to get first "word" </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>result of operation, 0 if ok. </dd></dl>

</div>
</div><p>
<a class="anchor" name="836802590b0f945fba19d8c18c2a1ba3"></a><!-- doxytag: member="tec_tcp_handling.c::tcp_slave_close" ref="836802590b0f945fba19d8c18c2a1ba3" args="(slave_info *slave)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tcp_slave_close           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structslave__info.html">slave_info</a> *&nbsp;</td>
          <td class="paramname"> <em>slave</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function to close slave connection to slave. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>slave</em>&nbsp;</td><td>the <a class="el" href="structslave__info.html">slave_info</a> struck </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="5985d64529efe3c1d443b4f6985c66e4"></a><!-- doxytag: member="tec_tcp_handling.c::ms_assoc" ref="5985d64529efe3c1d443b4f6985c66e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct__DLList.html">DLList</a>* <a class="el" href="tec__tcp__handling_8c.html#5985d64529efe3c1d443b4f6985c66e4">ms_assoc</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
List containing association data for master - slave system (<a class="el" href="structslave__info.html">slave_info</a> structures) 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Sep 1 08:27:57 2009 for MIN Test Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
